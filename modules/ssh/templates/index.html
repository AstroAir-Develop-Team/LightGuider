<!-- index.html -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>WebSSH</title>
    <script src="/static/jquery-3.2.1.min.js"></script>
    <script>
        $(function () {
            var ws = new WebSocket("ws://localhost:18080/ws");  // 创建WebSocket连接
            ws.onmessage = function (evt) {  // 接收消息事件
                $("#output").append(evt.data);  // 在页面上输出结果
            }
            $("form").submit(function () {  // 提交表单事件
                var command = $("#command").val();  // 获取命令
                ws.send(command);  // 发送命令到WebSocket服务器
                $("#command").val("");  // 清空输入框
                return false;
            });
        });
    </script>

    <!-- 添加 Bootstrap 样式表 -->
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css">
    <!-- 添加 Bootstrap JavaScript 库 -->
    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>

</head>

<body>

    <body class="bg-light">
        <div class="container-fluid p-5 text-center">
            <h1>WebSSH Client</h1>
        </div>

        <div class="container py-5">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <form id="commandForm" class="d-flex flex-row align-items-start">
                        <input type="text" id="commandInput" class="form-control me-2" placeholder="Enter command...">
                        <button type="submit" class="btn btn-primary">Execute</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="container py-5">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div id="outputPanel" class="card">
                        <div class="card-header">Output</div>
                        <div class="card-body" id="outputBody">
                            <p class="text-muted">Please enter a command above and click Execute.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="/static/ws.js"></script>
    </body>
</body>

</html>